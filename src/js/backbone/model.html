<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>model</title>
    <script src="libs/jquery-3.1.0.js"></script>
    <script src="../underscore/underscore.js"></script>
    <script src="libs/backbone.js"></script>
</head>
<body>
<script>
    // Model是js应用的核心，
    // 包括基础的数据以及围绕着这些数据的逻辑：
    // 数据转换、验证、属性计算和访问控制

    //最简单的对象
    var Man = Backbone.Model.extend({
        url: 'http://localhost:8001/man',
        initialize: function () {
            alert('hey,you create me!');
            this.bind('change:name', function () {
                var name = this.get('name');
                alert('你改变了name属性为：' + name);
            });
            this.bind('invalid', function (model, error) {
                alert(error);
            })
        },
        defaults: {
            name: 'ggg',
            age: '18'
        },
        validate: function (attributes) {
            if (attributes.name == '') {
                return 'name不能为空';
            }
        },
        aboutMe: function () {
            return '我叫' + this.get('name') + ',今年' + this.get('age') + '岁';
        }
    });

    var man = new Man;
    man.set({name: 'ggg2', age: '16'});
    //    alert(man.get('name'));
    //    alert(man.aboutMe());
    man.save();


    //    man.set(({name: ''}));
    //    //save时触发验证
    //    man.save();

</script>
</body>
</html>