<!--http://www.w3school.com.cn/js/js_errors.asp-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript 错误处理</title>
</head>
<body>
<script type="text/javascript">
    var txt = ""
    function message() {
        try {
            adddlert("Welcome guest!")
        }
        catch (err) {
            txt = "本页中存在错误。\n\n"
            txt += "点击“确定”继续查看本页，\n"
            txt += "点击“取消”返回首页。\n\n"
            if (!confirm(txt)) {
                document.location.href = "/JsPractice/index.html"
            }
        }
    }

    var x = prompt("请输入 0 至 10 之间的数：", "")
    try {
        if (x > 10)
            throw "Err1"
        else if (x < 0)
            throw "Err2"
        else if (isNaN(x))
            throw "Err3"
    }
    catch (er) {
        if (er == "Err1")
            alert("错误！该值太大！")
        if (er == "Err2")
            alert("错误！该值太小！")
        if (er == "Err3")
            alert("错误！该值不是数字！")
    }


    onerror = handleErr
    var txt = ""

    function handleErr(msg, url, l) {
        txt = "本页中存在错误。\n\n"
        txt += "错误：" + msg + "\n"
        txt += "URL: " + url + "\n"
        txt += "行：" + l + "\n\n"
        txt += "点击“确定”继续。\n\n"
        alert(txt)
        return true
    }

    function message2() {
        adddlert("Welcome guest!")
    }

</script>
<input type="button" value="查看消息1" onclick="message()"/>
<input type="button" value="查看消息2" onclick="message2()"/>

</body>
</html>